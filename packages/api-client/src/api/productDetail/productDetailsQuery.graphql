#import "../../fragments/productFragment.graphql"
#import "../../fragments/configurableProductOptionsFragment.graphql"
#import "../../fragments/productImageFragment.graphql"
#import "../../fragments/productPriceRangeFragment.graphql"
#import "../../fragments/productPriceTierFragment.graphql"

query productDetails($search: String = "", $filter: ProductAttributeFilterInput, $pageSize: Int = 20, $currentPage: Int = 1, $sort: ProductAttributeSortInput) {
  products(search: $search, filter: $filter, sort: $sort) {
    items {
      ...ProductFragment
      ...ProductPriceRange
      ...ProductPriceTier
      ...ProductImages
      ...ProductUrlFragment
      ...ConfigurableProductOptionsFragment
      material
      options_container
      description {
        html
      }
      short_description {
        html
      }
      upsell_products {
        ...ProductFragment
      }
      related_products {
        ...ProductFragment
      }
      reviews(pageSize: $pageSize, currentPage: $currentPage) {
        items {
          average_rating
          nickname
          summary
          text
          created_at
          ratings_breakdown {
            name
            value
          }
        }
        page_info {
          current_page
          page_size
          total_pages
        }
      }
    }
  }
}
